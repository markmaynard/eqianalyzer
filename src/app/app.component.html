<p-menubar [model]="menuItems"></p-menubar>
<p-tabView (onChange)="onTabChange($event)">
        <p-tabPanel header="Load Data">
            <div class="ui-g">
                <div class="ui-g-12">
                    <div>File: {{settings.dbPath}}</div>
                    <p-button class="ui-button" (click)="onSwitchDb()" label="Switch Database"></p-button>
                    <p-button class="ui-button" (click)="onImportFromCSV()" label="Import from CSV"></p-button>
                </div>
            </div>
            <p-dialog header="Import Results" [(visible)]="showImportPopup">
                <div *ngIf="importStatus">
                    <div>Total rows: {{importStatus.totalRows}}</div>
                    <div>Succeeded: {{importStatus.succeeded}}</div>
                    <div>Failed {{importStatus.failed}}</div>
                    <div>Errors:
                        <div *ngFor="let e of importStatus.errors">
                            {{e.row}}:{{e.error}}
                        </div>
                    </div>
                </div>
            </p-dialog>
        </p-tabPanel>
        <p-tabPanel header="View People">
                <div class="container">
                        <div class="row">
                            <div class="col">
                                <h2>People</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <p-progressSpinner *ngIf="loadingPeople"></p-progressSpinner>
                                <table class="table" *ngIf="!loadingPeople">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Dob</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let person of people">
                                            <td scope="row">{{person.id}}</td>
                                            <td scoep="row">{{person.name}}</td>
                                            <td scope="row">{{person.dateOfBirth}}</td>
                                            <td>
                                                <button class="btn btn-link" (click)="onMenu(person)">{{person.name}} {{person.dateOfBirth}}</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
        </p-tabPanel>
        <p-tabPanel header="Add Assement Manualy">
            <assesment-entry-form></assesment-entry-form>
        </p-tabPanel>
        <p-tabPanel header="Run Query">
            <div class="container">
                <filter-builder></filter-builder>
            </div>
        </p-tabPanel>
    </p-tabView>

